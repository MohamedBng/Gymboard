
<%= link_to new_training_session_form_path(@training_session), form_class: "btn btn-sm btn-circle btn-ghost absolute top-2" do %>
    <i class="fas fa-arrow-left text-xl"></i>
<% end %>
<div class="flex flex-row items-center justify-between mt-6 mb-4">
  <h3 class="font-bold text-lg">
    <%= t("training_sessions.training_session_exercises.new.title") %>
  </h3>

  <%= link_to new_exercise_path,
        class: "btn btn-accent btn-outline btn-xs inline-flex items-center gap-1 sm:gap-2 hover:bg-accent-focus hover:shadow-lg hover:shadow-accent/50 hover:scale-105 transition-all duration-300 shrink-0" do %>
        Create an exercise
  <% end %>
</div>

<%= form_with(url: search_exercises_training_session_training_session_exercises_path(@training_session), method: :get, html: {data: {controller: 'auto-submit'}, class: "mb-4"}) do |f| %>
  <label class="input input-bordered flex items-center gap-2 grow w-full mb-2">
    <i class="fas fa-search"></i>
    <%= f.text_field :q,
        placeholder: t("admin.exercises.search.placeholder"),
        data: {'auto-submit-target': 'input'},
        class: "bg-transparent outline-none w-full" %>
  </label>

  <%= radio_button_tag :muscle_group_id, "",
          id: "all",
          class: "btn btn-sm",
          aria: { label: 'All' },
          data: { auto_submit_target: 'input' } %>

  <% MuscleGroup.order(:name).each do |muscle_group| %>
      <%= radio_button_tag :muscle_group_id, muscle_group.id,
          id: "muscle_group_#{muscle_group.id}",
          class: "btn btn-sm",
          aria: { label: muscle_group.name.capitalize },
          data: { auto_submit_target: 'input' } %>
    <% end %>

  <div class="tabs tabs-border w-full join">
    <%= radio_button_tag :scope, "",
          true,
          class: "tab join-item flex-1",
          aria: { label: 'All' },
          data: { auto_submit_target: 'input' } %>
    <%= radio_button_tag :scope, "verified",
          class: "tab join-item flex-1",
          aria: { label: 'Verified exercises' },
          data: { auto_submit_target: 'input' } %>
    <%= radio_button_tag :scope, "current_user",
          class: "tab join-item flex-1",
          aria: { label: 'My exercises' },
          data: { auto_submit_target: 'input' } %>
  </div>
<% end %>

<turbo-frame id='exercises_list' src="<%= search_exercises_training_session_training_session_exercises_path(@training_session) %>">
</turbo-frame>
