<div class="container mx-auto px-4 py-8">
  <div class="text-center mb-12">
    <h1 class="text-5xl font-bold text-accent mb-4">
      <%= t("training_sessions.hero.title") %>
    </h1>
    <p class="text-gray-400 text-lg mb-8 max-w-2xl mx-auto">
      <%= t("training_sessions.hero.subtitle") %>
    </p>
    <% if current_user.has_permission?("create_training_session")%>
      <%= link_to new_training_session_form_path, data: { turbo_frame: "main", turbo_action: "advance" }, class: "btn btn-accent btn-lg rounded-2xl inline-flex items-center gap-2 hover:bg-accent-focus hover:shadow-lg hover:shadow-accent/50 hover:scale-105 transition-all duration-300" do %>
        <i class="fas fa-plus"></i>
        <span><%= t("training_sessions.hero.create_button") %></span>
      <% end %>
    <% end %>
  </div>

  <div class="card bg-base-200 p-4 mt-6 shadow-md rounded-xl mb-8">
    <%= render 'search_form', q: @q %>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
    <% @training_sessions.each do |training_session| %>
      <div class="card bg-base-200 shadow-lg rounded-2xl p-4 hover:shadow-accent/40 transition hover:scale-105">
        <div class="flex justify-between items-start mb-4">

          <div class="flex items-start gap-3 flex-1">

            <div class="bg-accent/10 text-accent p-2 rounded-xl w-10 h-10 flex items-center justify-center flex-shrink-0">
              <i class="fas fa-dumbbell"></i>
            </div>

            <div class="flex-1">
              <h3 class="text-xl font-semibold mb-1">
                <%= training_session.name %>
              </h3>
              <p class="text-sm text-gray-400">
                <i class="fas fa-calendar mr-2"></i>
                <%= l(training_session.start_time, format: :short) %>
              </p>
            </div>
          </div>

          <div class="flex flex-wrap gap-2 justify-end">
            <% training_session.muscle_groups.limit(3).each do |muscle_group| %>
              <span class="badge badge-accent badge-outline">
                <%= muscle_group.name.capitalize %>
              </span>
            <% end %>
          </div>
        </div>

        <div class="flex items-center gap-4 text-sm text-gray-400 mb-4">
          <p class="flex items-center gap-2">
            <i class="fas fa-clock"></i>
            <%= t("training_sessions.card.duration", duration: ((training_session.end_time - training_session.start_time) / 60).round) %>
          </p>
          <p class="flex items-center gap-2">
            <i class="fas fa-dumbbell"></i>
            <%= t("training_sessions.card.exercises_count", count: training_session.exercises.count) %>
          </p>
        </div>

        <button class="btn btn-outline btn-sm btn-accent w-full">
          <%= t("training_sessions.card.view_button") %>
        </button>
      </div>
    <% end %>
  </div>

  <% if @training_sessions.empty? %>
    <div class="text-center py-12">
      <i class="fas fa-dumbbell text-6xl text-gray-600 mb-4"></i>
      <p class="text-gray-400 text-lg">
        <%= t("training_sessions.empty_state.message") %>
      </p>
    </div>
  <% end %>

  <%= render PaginationComponent.new(collection: @training_sessions) %>
</div>

